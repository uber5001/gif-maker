var gifMakerApp=angular.module("gifMakerApp",[]);gifMakerApp.config(["$sceProvider",function($sceProvider){$sceProvider.enabled(false)}]);gifMakerApp.controller("FilmstripCtrl",function($scope,$timeout){$scope.universe=getUniverse();$scope.removeFrame=function(index){removeFrame(index+1);$timeout(function(){updatePositions()})};$scope.moveFrame=function(index,offset){moveFrame(index,-offset);$timeout(function(){updatePositions()})};var universe=getUniverse();function updatePositions(){for(var i=0;i<universe.frames.length;i++){universe.frames[i].$$index=universe.frames.length-i-1}}var filePicker=document.createElement("input");filePicker.setAttribute("type","file");filePicker.setAttribute("accept","*");filePicker.onchange=function(){var files=filePicker.files;if(files.length==0){console.log("wasn't expecting 0 files!");return}for(var i=0;i<files.length;i++){var file=files[i];var reader=new FileReader;reader.onload=function(file){return function(e){addFrame(e.target.result);addFrame(e.target.result);updatePositions();$scope.$apply()}}(file);reader.readAsDataURL(file)}filePicker.value=""};$scope.pickFile=function(){filePicker.click()}});